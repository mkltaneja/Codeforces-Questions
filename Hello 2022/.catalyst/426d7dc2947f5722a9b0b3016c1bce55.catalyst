{"title":{"en":"C. Hidden Permutations","ru":"C. Скрытые перестановки"},"contestId":"1621","problemIndex":"C","timeLimit":{"en":"1 second","ru":"1 секунда"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p><span class=\"tex-font-style-bf\">This is an interactive problem.</span></p><p>The jury has a permutation $$$p$$$ of length $$$n$$$ and wants you to guess it. For this, the jury created another permutation $$$q$$$ of length $$$n$$$. Initially, $$$q$$$ is an identity permutation ($$$q_i = i$$$ for all $$$i$$$).</p><p>You can ask queries to get $$$q_i$$$ for any $$$i$$$ you want. After each query, the jury will change $$$q$$$ in the following way: </p><ul> <li> At first, the jury will create a new permutation $$$q'$$$ of length $$$n$$$ such that $$$q'_i = q_{p_i}$$$ for all $$$i$$$. </li><li> Then the jury will replace permutation $$$q$$$ with pemutation $$$q'$$$. </li></ul><p>You can make no more than $$$2n$$$ queries in order to quess $$$p$$$.</p>","ru":"<p><span class=\"tex-font-style-bf\">Это интерактивная задача.</span></p><p>Жюри загадало перестановку $$$p$$$ длины $$$n$$$ и предлагает Вам её угадать. Для этого жюри создало перестановку $$$q$$$ длины $$$n$$$. Изначально $$$q$$$ является тождественной ($$$q_i = i$$$ для всех $$$i$$$).</p><p>За один запрос Вы можете узнать $$$q_i$$$ для любого $$$i$$$. После каждого Вашего запроса жюри будет изменять $$$q$$$ следующим образом: </p><ul> <li> Сначала жюри создаст перестановку $$$q'$$$ длины $$$n$$$ такую что $$$q'_i = q_{p_i}$$$ для всех $$$i$$$. </li><li> После этого жюри заменит $$$q$$$ на $$$q'$$$. </li></ul><p>Вы можете сделать не более $$$2n$$$ запросов, чтобы угадать перестановку $$$p$$$.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line of input contains a single integer $$$t$$$ ($$$1 \\leq t \\leq 1000$$$)&nbsp;— the number of test cases.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке задано одно целое число $$$t$$$ ($$$1 \\leq t \\leq 1000$$$)&nbsp;— количество тестовых случаев.</p>"},"outSpecsHtml":{"en":null,"ru":null},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>In the first test case the jury guessed the permutation $$$p = [4, 2, 1, 3]$$$.</p><p>Before the first query $$$q = [1, 2, 3, 4]$$$ so answer for the query will be $$$q_3 = 3$$$.</p><p>Before the second query $$$q = [4, 2, 1, 3]$$$ so answer for the query will be $$$q_2 = 2$$$.</p><p>Before the third query $$$q = [3, 2, 4, 1]$$$ so answer for the query will be $$$q_4 = 1$$$.</p><p>In the second test case the jury guessed the permutation $$$p = [1, 3, 4, 2]$$$.</p><p>Empty strings are given only for better readability. There will be no empty lines in the testing system.</p>","ru":"<div class=\"section-title\">Примечание</div><p>В первом тестовом случае жюри загадало перестановку $$$p = [4, 2, 1, 3]$$$.</p><p>Перед первым Вашим запросом $$$q = [1, 2, 3, 4]$$$, ответ на запрос будет равен $$$q_3 = 3$$$.</p><p>Перед вторым Вашим запросом $$$q = [4, 2, 1, 3]$$$, ответ на запрос будет равен $$$q_2 = 2$$$.</p><p>Перед третьим Вашим запросом $$$q = [3, 2, 4, 1]$$$, ответ на запрос будет равен $$$q_4 = 1$$$.</p><p>Во втором тестовом случае жюри загадало перестановку $$$p = [1, 3, 4, 2]$$$.</p><p>Пустые строки в примере даны только для улучшения читаемости. В тестирующей системе программа жюри не будет выводить пустые строки.</p>"},"sampleTestcases":[{"id":1641220801087,"input":"2\n4\n\n3\n\n2\n\n1\n\n4\n\n2\n\n4\n\n4","output":"? 3\n\n? 2\n\n? 4\n\n! 4 2 1 3\n\n? 2\n\n? 3\n\n? 2\n\n! 1 3 4 2"}],"submitUrl":"https://codeforces.com/contest/1621/submit","language":"c++","isPartOfContest":true}