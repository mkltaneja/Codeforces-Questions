{"title":{"en":"I. Two Sequences","ru":"I. Две последовательности"},"contestId":"1621","problemIndex":"I","timeLimit":{"en":"8 seconds","ru":"8 секунд"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>Consider an array of integers $$$C = [c_1, c_2, \\ldots, c_n]$$$ of length $$$n$$$. Let's build the sequence of arrays $$$D_0, D_1, D_2, \\ldots, D_{n}$$$ of length $$$n+1$$$ in the following way:</p><ul> <li> The first element of this sequence will be equals $$$C$$$: $$$D_0 = C$$$. </li><li> For each $$$1 \\leq i \\leq n$$$ array $$$D_i$$$ will be constructed from $$$D_{i-1}$$$ in the following way: <ul> <li> Let's find the lexicographically smallest subarray of $$$D_{i-1}$$$ of length $$$i$$$. Then, the first $$$n-i$$$ elements of $$$D_i$$$ will be equals to the corresponding $$$n-i$$$ elements of array $$$D_{i-1}$$$ and the last $$$i$$$ elements of $$$D_i$$$ will be equals to the corresponding elements of the found subarray of length $$$i$$$. </li></ul> </li></ul><p>Array $$$x$$$ is subarray of array $$$y$$$, if $$$x$$$ can be obtained by deletion of several (possibly, zero or all) elements from the beginning of $$$y$$$ and several (possibly, zero or all) elements from the end of $$$y$$$.</p><p>For array $$$C$$$ let's denote array $$$D_n$$$ as $$$op(C)$$$.</p><p>Alice has an array of integers $$$A = [a_1, a_2, \\ldots, a_n]$$$ of length $$$n$$$. She will build the sequence of arrays $$$B_0, B_1, \\ldots, B_n$$$ of length $$$n+1$$$ in the following way:</p><ul> <li> The first element of this sequence will be equals $$$A$$$: $$$B_0 = A$$$. </li><li> For each $$$1 \\leq i \\leq n$$$ array $$$B_i$$$ will be equals $$$op(B_{i-1})$$$, where $$$op$$$ is the transformation described above. </li></ul><p>She will ask you $$$q$$$ queries about elements of sequence of arrays $$$B_0, B_1, \\ldots, B_n$$$. Each query consists of two integers $$$i$$$ and $$$j$$$, and the answer to this query is the value of the $$$j$$$-th element of array $$$B_i$$$.</p>","ru":"<p>Рассмотрим некоторый массив целых чисел $$$C = [c_1, c_2, \\ldots, c_n]$$$ длины $$$n$$$. Построим последовательность массивов $$$D_0, D_1, D_2, \\ldots, D_{n}$$$ длины $$$n+1$$$ следующим образом:</p><ul> <li> Первый массив в этой последовательности будет равен $$$C$$$: $$$D_0 = C$$$. </li><li> Для всех $$$1 \\leq i \\leq n$$$ массив $$$D_i$$$ будет получен из $$$D_{i-1}$$$ следующим образом: <ul> <li> Рассмотрим лексикографически наименьший подмассив $$$D_{i-1}$$$ длины $$$i$$$. Тогда первые $$$n-i$$$ элемент массива $$$D_i$$$ будут равны первым $$$n-i$$$ элементам массива $$$D_{i-1}$$$ соответственно, а последние $$$i$$$ элементов массива $$$D_i$$$ будут равны соответствующим элементам этого подмассива длины $$$i$$$. </li></ul> </li></ul><p>Массив $$$x$$$ является подмассивом массива $$$y$$$, если $$$x$$$ может быть получен удалением нескольких (возможно, ни одного или всех) элементов из начала $$$y$$$ и нескольких (возможно, ни одного или всех) элементов из конца $$$y$$$.</p><p>Для массива $$$C$$$ обозначим массив $$$D_n$$$ как $$$op(C)$$$.</p><p>У Алисы есть массив целых чисел $$$A = [a_1, a_2, \\ldots, a_n]$$$ длины $$$n$$$. Она построит последовательность массивов $$$B_0, B_1, \\ldots, B_n$$$ длины $$$n+1$$$ следующим образом:</p><ul> <li> Первый массив в этой последовательности будет равен $$$A$$$: $$$B_0 = A$$$. </li><li> Для всех $$$1 \\leq i \\leq n$$$ массив $$$B_i$$$ будет равен $$$op(B_{i-1})$$$, где $$$op$$$&nbsp;— преобразование, определённое выше. </li></ul><p>Алиса задаст Вам $$$q$$$ запросов про элементы последовательности массивов $$$B_0, B_1, \\ldots, B_n$$$. Запрос состоит из двух чисел $$$i$$$ и $$$j$$$, а ответом на него будет значение $$$j$$$-го элемента массива $$$B_i$$$.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains the single integer $$$n$$$ ($$$1 \\leq n \\leq 10^5$$$)&nbsp;— the length of array $$$A$$$.</p><p>The second line contains $$$n$$$ integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$1 \\leq a_i \\leq n$$$)&nbsp;— the array $$$A$$$.</p><p>The third line contains the single integer $$$q$$$ ($$$1 \\leq q \\leq 10^6$$$)&nbsp;— the number of queries.</p><p>Each of the next $$$q$$$ lines contains two integers $$$i$$$, $$$j$$$ ($$$1 \\leq i, j \\leq n$$$)&nbsp;— parameters of queries.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке дано одно число $$$n$$$ ($$$1 \\leq n \\leq 10^5$$$)&nbsp;— длина массива $$$A$$$.</p><p>Во второй строке дано $$$n$$$ чисел $$$a_1, a_2, \\ldots, a_n$$$ ($$$1 \\leq a_i \\leq n$$$)&nbsp;— массив $$$A$$$.</p><p>В третьей строке дано одно число $$$q$$$ ($$$1 \\leq q \\leq 10^6$$$)&nbsp;— количество запросов.</p><p>Следующие $$$q$$$ строк содержат по два числа $$$i$$$, $$$j$$$ ($$$1 \\leq i, j \\leq n$$$)&nbsp;— параметры запросов.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Output $$$q$$$ integers: values of $$$B_{i, j}$$$ for required $$$i$$$, $$$j$$$.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите $$$q$$$ целых чисел: значения $$$B_{i, j}$$$ для требуемых $$$i$$$, $$$j$$$.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>In the first test case $$$B_0 = A = [2, 1, 3, 1]$$$.</p><p>$$$B_1$$$ is constructed in the following way:</p><ul> <li> Initially, $$$D_0 = [2, 1, 3, 1]$$$. </li><li> For $$$i=1$$$ the lexicographically smallest subarray of $$$D_0$$$ of length $$$1$$$ is $$$[1]$$$, so $$$D_1$$$ will be $$$[2, 1, 3, 1]$$$. </li><li> For $$$i=2$$$ the lexicographically smallest subarray of $$$D_1$$$ of length $$$2$$$ is $$$[1, 3]$$$, so $$$D_2$$$ will be $$$[2, 1, 1, 3]$$$. </li><li> For $$$i=3$$$ the lexicographically smallest subarray of $$$D_2$$$ of length $$$3$$$ is $$$[1, 1, 3]$$$, so $$$D_3$$$ will be $$$[2, 1, 1, 3]$$$. </li><li> For $$$i=4$$$ the lexicographically smallest subarray of $$$D_3$$$ of length $$$4$$$ is $$$[2, 1, 1, 3]$$$, so $$$D_4$$$ will be $$$[2, 1, 1, 3]$$$. </li><li> So, $$$B_1 = op(B_0) = op([2, 1, 3, 1]) = [2, 1, 1, 3]$$$. </li></ul>","ru":"<div class=\"section-title\">Примечание</div><p>В первом тесте $$$B_0 = A = [2, 1, 3, 1]$$$.</p><p>$$$B_1$$$ вычисляется следующим образом:</p><ul> <li> Изначально, $$$D_0 = [2, 1, 3, 1]$$$. </li><li> Для $$$i=1$$$ лексикографически минимальным подмассивом $$$D_0$$$ длины $$$1$$$ является $$$[1]$$$, $$$D_1$$$ будет равен $$$[2, 1, 3, 1]$$$. </li><li> Для $$$i=2$$$ лексикографически минимальным подмассивом $$$D_1$$$ длины $$$2$$$ является $$$[1, 3]$$$, $$$D_2$$$ будет равен $$$[2, 1, 1, 3]$$$. </li><li> Для $$$i=3$$$ лексикографически минимальным подмассивом $$$D_2$$$ длины $$$3$$$ является $$$[1, 1, 3]$$$, $$$D_3$$$ будет равен $$$[2, 1, 1, 3]$$$. </li><li> Для $$$i=4$$$ лексикографически минимальным подмассивом $$$D_3$$$ длины $$$4$$$ является $$$[2, 1, 1, 3]$$$, $$$D_4$$$ будет равен $$$[2, 1, 1, 3]$$$. </li><li> Таким образом, $$$B_1 = op(B_0) = op([2, 1, 3, 1]) = [2, 1, 1, 3]$$$. </li></ul>"},"sampleTestcases":[{"id":1641220822240,"input":"4\n2 1 3 1\n4\n1 1\n1 2\n1 3\n1 4\n","output":"2\n1\n1\n3\n"}],"submitUrl":"https://codeforces.com/contest/1621/submit","language":"c++","isPartOfContest":true}