{"title":{"en":"B. Elementary Particles","ru":"B. Элементарные частицы"},"contestId":"1625","problemIndex":"B","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>Martians are actively engaged in interplanetary trade. Olymp City, the Martian city known for its spaceport, has become a place where goods from all the corners of our Galaxy come. To deliver even more freight from faraway planets, Martians need fast spaceships.</p><p>A group of scientists conducts experiments to build a fast engine for the new spaceship. In the current experiment, there are $$$n$$$ elementary particles, the $$$i$$$-th of them has type $$$a_i$$$.</p><p>Denote a subsegment of the particle sequence ($$$a_1, a_2, \\dots, a_n$$$) as a sequence ($$$a_l, a_{l+1}, \\dots, a_r$$$) for some left bound $$$l$$$ and right bound $$$r$$$ ($$$1 \\le l \\le r \\le n$$$). For instance, the sequence $$$(1\\ 4\\ 2\\ 8\\ 5\\ 7)$$$ for $$$l=2$$$ and $$$r=4$$$ has the sequence $$$(4\\ 2\\ 8)$$$ as a subsegment. Two subsegments are considered different if at least one bound of those subsegments differs.</p><p>Note that the subsegments can be equal as sequences but still considered different. For example, consider the sequence $$$(1\\ 1\\ 1\\ 1\\ 1)$$$ and two of its subsegments: one with $$$l=1$$$ and $$$r=3$$$ and another with $$$l=2$$$ and $$$r=4$$$. Both subsegments are equal to $$$(1\\ 1\\ 1)$$$, but still considered different, as their left and right bounds differ.</p><p>The scientists want to conduct a reaction to get two different subsegments of the same length. Denote this length $$$k$$$. The resulting pair of subsegments must be <span class=\"tex-font-style-it\">harmonious</span>, i.&nbsp;e. for <span class=\"tex-font-style-bf\">some</span> $$$i$$$ ($$$1 \\le i \\le k$$$) it must be true that the types of particles on the $$$i$$$-th position are the same for these two subsegments. For example, the pair $$$(1\\ 7\\ 3)$$$ and $$$(4\\ 7\\ 8)$$$ is harmonious, as both subsegments have $$$7$$$ on the second position. The pair $$$(1\\ 2\\ 3)$$$ and $$$(3\\ 1\\ 2)$$$ is not harmonious.</p><p>The longer are harmonious subsegments, the more chances for the scientists to design a fast engine. So, they asked you to calculate the maximal possible length of harmonious pair made of different subsegments.</p>","ru":"<p>Марсиане активно занимаются межпланетной торговлей. А город Олимп-Сити, известный своим космодромом, давно стал местом, куда поступают товары со всех уголков Галактики. Чтобы перевозить еще больше грузов с далеких планет, марсианам необходимы быстрые космические корабли.</p><p>Группа ученых как раз проводит эксперименты, чтобы построить быстрый двигатель для нового космического корабля. В текущем эксперименте участвует последовательность из $$$n$$$ элементарных частиц, где $$$i$$$-я частица имеет тип $$$a_i$$$.</p><p>Назовем подотрезком последовательности частиц ($$$a_1, a_2, \\dots, a_n$$$) последовательность ($$$a_l, a_{l+1}, \\dots, a_r$$$) для некоторой левой границы $$$l$$$ и правой границы $$$r$$$ ($$$1 \\le l \\le r \\le n$$$). Например, у последовательности $$$(1\\ 4\\ 2\\ 8\\ 5\\ 7)$$$ ее подотрезком при $$$l=2$$$ и $$$r=4$$$ является последовательность $$$(4\\ 2\\ 8)$$$. Также скажем, что два подотрезка являются различными, если хотя бы одна из границ этих подотрезков не совпадает.</p><p>Обратите внимание, что подотрезки могут быть одинаковыми как последовательности, но при этом считаться различными. Например, возьмем последовательность $$$(1\\ 1\\ 1\\ 1\\ 1)$$$ и два подотрезка: один с $$$l=1$$$ и $$$r=3$$$, другой&nbsp;— с $$$l=2$$$ и $$$r=4$$$. Оба подотрезка равны $$$(1\\ 1\\ 1)$$$, но при этом считаются различными, поскольку их левая и правая границы не совпадают.</p><p>Ученые хотят провести реакцию и получить два различных подотрезка одинаковой длины. Обозначим эту длину $$$k$$$. При этом полученная пара подотрезков должна быть <span class=\"tex-font-style-it\">гармоничной</span>, т.&nbsp;е. для <span class=\"tex-font-style-bf\">некоторого</span> $$$i$$$ ($$$1 \\le i \\le k$$$) должно оказаться так, что типы частиц на $$$i$$$-й позиции совпадают. Например, пара подотрезков $$$(1\\ 7\\ 3)$$$ и $$$(4\\ 7\\ 8)$$$ гармонична, т.&nbsp;к. у обоих подотрезков на второй позиции стоит $$$7$$$, а пара подотрезков $$$(1\\ 2\\ 3)$$$ и $$$(3\\ 1\\ 2)$$$&nbsp;— нет.</p><p>Чем длиннее получатся гармоничные подотрезки, тем больше шансов, что ученые смогут сконструировать быстрый двигатель. Поэтому они попросили Вас помочь рассчитать максимальную возможную длину гармоничной пары из различных подотрезков.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains an integer $$$t$$$ ($$$1 \\le t \\le 100$$$) — the number of test cases. The following are descriptions of the test cases.</p><p>The first line contains an integer $$$n$$$ ($$$2 \\le n \\le 150\\,000$$$) — the amount of elementary particles in the sequence.</p><p>The second line contains $$$n$$$ integers $$$a_i$$$ ($$$1 \\le a_i \\le 150\\,000$$$) — types of elementary particles.</p><p>It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$3\\cdot10^5$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке входных данных находится единственное целое число $$$t$$$ ($$$1 \\le t \\le 100$$$)&nbsp;— количество наборов входных данных. Далее следуют описания наборов входных данных.</p><p>Первая строка каждого набора входных данных содержит единственное целое число $$$n$$$ ($$$2 \\le n \\le 150\\,000$$$)&nbsp;— количество элементарных частиц в последовательности.</p><p>Вторая строка каждого набора входных данных содержит $$$n$$$ целых чисел $$$a_i$$$ ($$$1 \\le a_i \\le 150\\,000$$$)&nbsp;— типы частиц.</p><p>Гарантируется, что сумма $$$n$$$ по всем наборам входных данных не превосходит $$$3\\cdot10^5$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each test, print a single integer, maximal possible length of harmonious pair made of different subsegments. If such pair does not exist, print $$$-1$$$ instead.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Для каждого теста выведите одно целое число&nbsp;— максимальную возможную длину гармоничной пары из различных отрезков. Если такой пары не существует, требуется вместо этого вывести число $$$-1$$$.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>The first test case is shown on the picture below:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/90cc5ceb63e9eda158ee99c5f451f5f05b84fa92.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"378px\"> </center><p>As you can see from it, you may choose the subsegments $$$(2\\ 1\\ 3\\ 4)$$$ and $$$(3\\ 1\\ 5\\ 2)$$$, which are a harmonious pair. Their length is equal to $$$4$$$, so the answer is $$$4$$$.</p><p>In the second test case, you need to take two subsegments: one with $$$l=1$$$ and $$$r=5$$$, and one with $$$l=2$$$ and $$$r=6$$$. It's not hard to observe that these segments are a harmonious pair and considered different even though they are both equal to $$$(1\\ 1\\ 1\\ 1\\ 1)$$$.</p><p>In the third test case, you cannot make a harmonious pair, so the answer is $$$-1$$$.</p>","ru":"<div class=\"section-title\">Примечание</div><p>Первый пример изображен на рисунке ниже:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/90cc5ceb63e9eda158ee99c5f451f5f05b84fa92.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"378px\"> </center><p>Как видно на рисунке, можно выбрать подотрезки $$$(2\\ 1\\ 3\\ 4)$$$ и $$$(3\\ 1\\ 5\\ 2)$$$, которые образуют гармоничную пару. Их длина равна $$$4$$$, поэтому ответ равен $$$4$$$.</p><p>Во втором примере можно взять два отрезка: первый&nbsp;— с $$$l=1$$$ и $$$r=5$$$, а второй&nbsp;— с $$$l=2$$$ и $$$r=6$$$. Как нетрудно видеть, эти отрезки образуют гармоничную пару и при этом считаются различными несмотря на то, что оба равны $$$(1\\ 1\\ 1\\ 1\\ 1)$$$.</p><p>В третьем примере можно заметить, что гармоничный отрезок построить нельзя, и ответ равен $$$-1$$$.</p>"},"sampleTestcases":[{"id":1641989251241,"input":"4\n7\n3 1 5 2 1 3 4\n6\n1 1 1 1 1 1\n6\n1 4 2 8 5 7\n2\n15 15\n","output":"4\n5\n-1\n1\n"}],"submitUrl":"https://codeforces.com/contest/1625/submit","language":"c++","isPartOfContest":true}