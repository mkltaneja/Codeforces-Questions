{"title":{"en":"D. Palindromes Coloring","ru":"D. Раскраска палиндромов"},"contestId":"1624","problemIndex":"D","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>You have a string $$$s$$$ consisting of lowercase Latin alphabet letters. </p><p>You can color some letters in colors from $$$1$$$ to $$$k$$$. It is not necessary to paint all the letters. But for each color, there must be a letter painted in that color.</p><p>Then you can swap any two symbols painted in the same color as many times as you want. </p><p>After that, $$$k$$$ strings will be created, $$$i$$$-th of them will contain all the characters colored in the color $$$i$$$, written in the order of their sequence in the string $$$s$$$.</p><p>Your task is to color the characters of the string so that all the resulting $$$k$$$ strings are palindromes, and the length of the shortest of these $$$k$$$ strings is as <span class=\"tex-font-style-bf\">large</span> as possible.</p><p>Read the note for the first test case of the example if you need a clarification.</p><p>Recall that a string is a palindrome if it reads the same way both from left to right and from right to left. For example, the strings <span class=\"tex-font-style-tt\">abacaba</span>, <span class=\"tex-font-style-tt\">cccc</span>, <span class=\"tex-font-style-tt\">z</span> and <span class=\"tex-font-style-tt\">dxd</span> are palindromes, but the strings <span class=\"tex-font-style-tt\">abab</span> and <span class=\"tex-font-style-tt\">aaabaa</span>&nbsp;— are not.</p>","ru":"<p>У вас есть строка $$$s$$$, состоящая из строчных букв латинского алфавита. </p><p>Вы можете покрасить некоторые буквы в цвета от $$$1$$$ до $$$k$$$. Необязательно красить все буквы. Для каждого цвета должна быть буква, покрашенная в этот цвет.</p><p>Затем вы можете сколько угодно раз менять местами любые два символа, покрашенные в один цвет. </p><p>После этого будет создано $$$k$$$ строк, $$$i$$$-я из них будет содержать все символы, покрашенные в цвет $$$i$$$, записанные в порядке их следования в строке $$$s$$$.</p><p>Ваша задача покрасить символы строки так, чтобы все полученные $$$k$$$ строк были палиндромами, а длина самой короткой из этих $$$k$$$ строк была как можно <span class=\"tex-font-style-bf\">больше</span>.</p><p>Прочтите пояснение к первому набору входных данных примера, если вам требуется пояснение к условию задачи.</p><p>Напомним, что строка является палиндромом, если она читается одинаково как слева направо, так и справа налево. Например, строки <span class=\"tex-font-style-tt\">abacaba</span>, <span class=\"tex-font-style-tt\">cccc</span>, <span class=\"tex-font-style-tt\">z</span> и <span class=\"tex-font-style-tt\">dxd</span> являются палиндромами, а строки <span class=\"tex-font-style-tt\">abab</span> и <span class=\"tex-font-style-tt\">aaabaa</span>&nbsp;— нет.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line of input data contains a single integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$)&nbsp;— the number of input data sets in the test. </p><p>The descriptions of the input data sets follow.</p><p>The first line of the description of each input data set contains two integers $$$n$$$ and $$$k$$$ ($$$1 \\le k \\le n \\le 2 \\cdot 10^5$$$)&nbsp;— the length of the string and the number of colors in which its letters can be painted. The second line of the description of each input data set contains a string $$$s$$$ of length $$$n$$$ consisting of lowercase letters of the Latin alphabet.</p><p>It is guaranteed that the sum of n over all test cases does not exceed $$$2 \\cdot 10^5$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>Первая строка входных данных содержит единственное целое число $$$t$$$ ($$$1 \\le t \\le 10^4$$$)&nbsp;— количество наборов входных данных в тесте. </p><p>Далее следуют описания наборов входных данных.</p><p>Первая строка описания каждого набора входных данных содержит два целых числа $$$n$$$ и $$$k$$$ ($$$1 \\le k \\le n \\le 2 \\cdot 10^5$$$)&nbsp;— длина строки и число цветов, в которые можно красить её буквы. Вторая строка описания каждого набора входных данных содержит строку $$$s$$$ длины $$$n$$$, состоящую из строчных букв латинского алфавита.</p><p>Гарантируется, что сумма длин всех строк в тесте не превосходит $$$2 \\cdot 10^5$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each set of input data, output a single integer &nbsp;— the maximum length of the shortest palindrome string that can be obtained.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Для каждого набора входных данных выведите единственное целое число&nbsp;— максимальную длину самой короткой строки-палиндрома, которую возможно получить.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><ul><li> In the first test case, $$$s$$$=\"<span class=\"tex-font-style-tt\">bxyaxzay</span>\", $$$k=2$$$. We use indices in the string from $$$1$$$ to $$$8$$$. The following coloring will work: $$$\\mathtt{\\mathbf{\\color{red}{b}\\color{blue}{xy}\\color{red}{a}\\color{blue}{x}z\\color{red}{a}\\color{blue}{y}}}$$$ (the letter <span class=\"tex-font-style-tt\">z</span> remained uncolored). After painting:<ul> <li> swap two red characters (with the indices $$$1$$$ and $$$4$$$), we get $$$\\mathtt{\\mathbf{\\color{red}{a}\\color{blue}{xy}\\color{red}{b}\\color{blue}{x}z\\color{red}{a}\\color{blue}{y}}}$$$; </li><li> swap two blue characters (with the indices $$$5$$$ and $$$8$$$), we get $$$\\mathtt{\\mathbf{\\color{red}{a}\\color{blue}{xy}\\color{red}{b}\\color{blue}{y}z\\color{red}{a}\\color{blue}{x}}}$$$. </li></ul><p>Now, for each of the two colors we write out the corresponding characters from left to right, we get two strings $$$\\mathtt{\\mathbf{\\color{red}{aba}}}$$$ and $$$\\mathtt{\\mathbf{\\color{blue}{xyyx}}}$$$. Both of them are palindromes, the length of the shortest is $$$3$$$. It can be shown that the greatest length of the shortest palindrome cannot be achieved.</p></li><li> In the second set of input data, the following coloring is suitable: $$$[1, 1, 1, 2, 2, 2]$$$. There is no need to swap characters. Both received strings are equal to <span class=\"tex-font-style-tt\">aaa</span>, they are palindromes and their length is $$$3$$$.</li><li> In the third set of input data, you can color any character and take it into a string.</li><li> In the fourth set of input data, you can color the $$$i$$$th character in the color $$$i$$$.</li><li> In the fifth set of input data can be colored in each of the colors of one character.</li><li> In the sixth set of input data, the following coloring is suitable: $$$[1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 0]$$$. Rearrange the characters so as to get the palindromes <span class=\"tex-font-style-tt\">abcba</span> and <span class=\"tex-font-style-tt\">acbca</span>.</li></ul>","ru":"<div class=\"section-title\">Примечание</div><ul> <li> В первом наборе входных данных $$$s$$$=«<span class=\"tex-font-style-tt\">bxyaxzay</span>», $$$k=2$$$. Далее будем использовать индексы в строке от $$$1$$$ до $$$8$$$. Подойдет следующая раскраска: $$$\\mathtt{\\mathbf{\\color{red}{b}\\color{blue}{xy}\\color{red}{a}\\color{blue}{x}z\\color{red}{a}\\color{blue}{y}}}$$$ (буква <span class=\"tex-font-style-tt\">z</span> осталась непокрашенной). После покраски:<ul> <li> поменяем местами два красных символа (с индексами $$$1$$$ и $$$4$$$) местами, получим $$$\\mathtt{\\mathbf{\\color{red}{a}\\color{blue}{xy}\\color{red}{b}\\color{blue}{x}z\\color{red}{a}\\color{blue}{y}}}$$$; </li><li> поменяем местами два синих символа (с индексами $$$5$$$ и $$$8$$$) местами, получим $$$\\mathtt{\\mathbf{\\color{red}{a}\\color{blue}{xy}\\color{red}{b}\\color{blue}{y}z\\color{red}{a}\\color{blue}{x}}}$$$. </li></ul><p>Теперь, если для каждого из двух цветов выписать соответствующие буквы слева направо, то получим две строки $$$\\mathtt{\\mathbf{\\color{red}{aba}}}$$$ и $$$\\mathtt{\\mathbf{\\color{blue}{xyyx}}}$$$. Обе они являются палиндромами, длина наименьшей равна $$$3$$$. Можно показать, что большую длину наименее длинного палиндрома достичь нельзя.</p></li><li> Во втором наборе входных данных подойдёт такая раскраска: $$$[1, 1, 1, 2, 2, 2]$$$. Менять символы местами не нужно. Обе полученные строки равны <span class=\"tex-font-style-tt\">aaa</span>, они являются палиндромами и их длина равна $$$3$$$.</li><li> В третьем наборе входных данных можно покрасить любой символ и взять его в строку.</li><li> В четвёртом наборе входных данных можно покрасить $$$i$$$-й символ в цвет $$$i$$$.</li><li> В пятом наборе входных данных можно покрасить в каждый из цветов по одному символу.</li><li> В шестом наборе входных данных подойдёт такая раскраска: $$$[1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 0]$$$. Переставим символы так, чтобы получить палиндромы <span class=\"tex-font-style-tt\">abcba</span> и <span class=\"tex-font-style-tt\">acbca</span>.</li></ul>"},"sampleTestcases":[{"id":1641825505582,"input":"10\n8 2\nbxyaxzay\n6 3\naaaaaa\n6 1\nabcdef\n6 6\nabcdef\n3 2\ndxd\n11 2\nabcabcabcac\n6 6\nsipkic\n7 2\neatoohd\n3 1\nllw\n6 2\nbfvfbv\n","output":"3\n2\n1\n1\n1\n5\n1\n1\n3\n3\n","result":{"id":1641825505582,"stdout":"2, 15\r\n","stderr":"","exitcode":0,"signal":null,"time":184,"timeout":false}}],"submitUrl":"https://codeforces.com/contest/1624/submit","language":"c++","isPartOfContest":true,"editorial":"<div><p>We will solve the problem greedily. First, we will try to add pairs of identical characters to palindromes. As long as there are at least $$$k$$$ pairs, let's add them. After that, it is no longer possible to add a couple of characters, but you can try to add one character in the middle. This can be done if there are at least $$$k$$$ characters left. There is no need to paint other characters.</p></div>"}